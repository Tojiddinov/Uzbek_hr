{% extends "base.html" %}
{% block title %}Edit Profile{% endblock %}

{% block content %}
<div class="container mx-auto p-6">
    <h1 class="text-3xl font-bold text-gray-800 mb-4">Edit Your Profile</h1>

    <form method="POST" enctype="multipart/form-data" class="bg-white p-6 rounded-lg shadow-md">
        {% csrf_token %}

        <!-- Profile Picture Upload -->
        <div class="mb-4">
            <label class="block text-gray-700 font-semibold">Profile Picture:</label>
            {% if profile.profile_picture %}
                <img src="{{ profile.profile_picture.url }}" alt="Profile Picture" class="w-24 h-24 rounded-full shadow mb-2">
            {% endif %}
            <input type="file" name="profile_picture" class="border rounded w-full p-2">
        </div>

        <label class="block text-gray-700 font-semibold">First Name:</label>
        <input type="text" name="first_name" value="{{ user.first_name }}" class="border rounded w-full p-2 mb-4">

        <label class="block text-gray-700 font-semibold">Last Name:</label>
        <input type="text" name="last_name" value="{{ user.last_name }}" class="border rounded w-full p-2 mb-4">

        <label class="block text-gray-700 font-semibold">University:</label>
        <input type="text" name="university_name" value="{{ user.university_name }}" class="border rounded w-full p-2 mb-4">

        <label class="block text-gray-700 font-semibold">Age:</label>
        <input type="number" name="age" value="{{ profile.age|default:'' }}" class="border rounded w-full p-2 mb-4">

        <label class="block text-gray-700 font-semibold">Phone Number:</label>
        <input type="text" name="phone" value="{{ profile.phone|default:'' }}" class="border rounded w-full p-2 mb-4">

        <label class="block text-gray-700 font-semibold">LinkedIn Profile:</label>
        <input type="url" name="linkedin" value="{{ profile.linkedin|default:'' }}" class="border rounded w-full p-2 mb-4">

        <label class="block text-gray-700 font-semibold">Upload Resume (PDF):</label>
        {% if profile.resume %}
            <p class="text-sm text-gray-600">Current Resume: <a href="{{ profile.resume.url }}" class="text-blue-500 underline">View Resume</a></p>
        {% endif %}
        <input type="file" name="resume" class="border rounded w-full p-2 mb-4">

        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">
            Save Changes
        </button>
    </form>

    <!-- Change Password Section -->
    <div class="mt-6 bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">Change Password</h2>
        <a href="{% url 'password_change' %}" class="bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600">
            Change Password
        </a>
    </div>
</div>
{% endblock %}
